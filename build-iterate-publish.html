<!doctype html><html><head><title>gradle plugin java create by synapticloop</title><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]--><link rel="stylesheet" href="assets/css/main.css" /><!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]--><script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script></head><body><div id="header"><h1 id="logo"><a href="http://synapticloop.github.io/">Synapticloop</a> :: <a href="index.html">gradle-plugin-java-create</a></h1><nav id="nav"><ul><li><a href="#">Projects</a><ul><li><a href="https://synapticloop.github.io/h2zero/"><i class="icon fa-database"></i> h2zero</a></li><li><a href="https://github.com/synapticloop/backblaze-b2-java-api/"><i class="icon fa-puzzle-piece"></i> backblaze b2 java api</a></li><li><a href="https://synapticloop.github.io/templar/"><i class="icon fa-shield"></i> templar</a></li><li><a href="https://synapticloop.github.io/templar-gen/"><i class="icon fa-gears"></i> templar gen</a></li><li><a href="https://synapticloop.github.io/linode-api/"><i class="icon fa-puzzle-piece"></i> linode java api</a></li><li><a href="https://github.com/synapticloopltd/scaleway-java-api/"><i class="icon fa-puzzle-piece"></i> scaleway java api</a></li><li><a href="https://synapticloopltd.github.io/newznab-api/"><i class="icon fa-puzzle-piece"></i> newznab java api</a></li><li><a href="https://synapticloopltd.github.io/gradle-plugin-java-create/"><i class="icon fa-gears"></i> gradle plugin creator for java</a></li><li><a href="https://synapticloopltd.github.io/recipease/"><i class="icon fa-spoon"></i> recipease</a></li><li><a href="https://synapticloop.github.io/routemaster/"><i class="icon fa-bus"></i> routemaster</a></li></ul></li></ul></nav></div><section id="banner"><h2>Welcome to the java gradle plugin creator</h2><p>generate the scaffolding for a gradle plugin in java</p></section><section id="main"><div class="container"><div class="row 200%"><div class="4u 12u$(medium)"><section id="sidebar"><section><h3>gradle-plugin-java-create</h3><p>Create the scaffolding for a gradle plugin in java</p><hr /><ul><li><a href="index.html">Home</a></li><li><a href="build-iterate-publish.html">Build, iterate, publish</a></li><li><a href="variables.html">Variables</a></li><li><a href="properties.html">.properties file</a></li><li><a href="plugin.html">Plugin.java file</a></li><li><a href="plugin-extension.html">PluginExtension.java file</a></li><li><a href="task.html">Task.java file</a></li></ul></section><hr /><section><h3>View this project on github</h3><footer><ul class="actions"><li><a href="https://github.com/synapticloopltd/gradle-plugin-java-create" class="button small alt">GitHub Project</a></li></ul></footer></section><hr /><section><h3>templar-gen</h3><p>This project is maintained by <a href="https://github.com/synapticloop">synapticloop</a> and these pages were generated with <a href="https://github.com/synapticloop/templar-gen/">synapticloop templar-gen</a></p></section></section></div><div class="8u$ 12u$(medium) important(medium)"><section id="content"><h3>How to build, iterate and publish the plugin</h3><hr /><h4>Process flow</h4><p>The process flow is as follows:</p><p>Ensure that you have built the scaffolding:</p><pre><code>java -jar gradle-plugin-java-create-&lt;version&gt;.jar</code></pre><ol><li>Edit the code to get it to do what you want it to do</li><li>If you have never built the version of the plugin  before <code>gradle -b build.plugin.initial.gradle build pTML</code></li><li>Run and test the plugin <code>gradle -b build.plugin.gradle &lt;taskName&gt;</code></li><li>Happy with the results<ol><li>Publish your plugin <code>build -b build.plugin.gradle build pP</code></li></ol></li><li>Unhappy with the results?<ol><li>Update the version number in <code>build.plugin.initial.gradle</code> and <code>build.plugin.gradle</code></li><li>go back to the beginning</li></ol></li></ol><p>See below for more detailed instructions</p><hr /><h3>The initial build</h3><h4>Step 1</h4><p>Generate the scaffolding:</p><pre><code>java -jar gradle-plugin-java-create-&lt;version&gt;.jar \
    -a synapticloop \
    -d "a simple test plugin" \
    -dg Sample \
    -dn "Synapticloop sample test plugin" \
    -jp synapticloop.plugin.sample \
    -n TestSample \
    -t "test,sample"</code></pre><h4>Step 2</h4><p>Check the following files to ensure that everything looks good to go: (<strong>Especially the version numbers which should default to <code>0.0.1</code></strong>)</p><ol><li><code>build.plugin.initial.gradle</code><ul><li>Ensure that the line <code>synapticloop(MavenPublication) {</code> is only a single word (i.e. it show here <code>synapticloop</code> and should not show <code>com.synapticloop</code>)</li></ul></li><li><code>build.plugin.gradle</code></li></ol><h4>Step 3</h4><p>Build the initial plugin and publish it to maven local repository:</p><pre><code>gradle -b build.plugin.initial.gradle build publishToMavenLocal</code></pre><p><em>or</em> as a shorcut:</p><pre><code>gradle -b build.plugin.initial.gradle build pTML</code></pre><h4>Step 4</h4><p>Test that the plugin is registered</p><pre><code>gradle -b build.plugin.gradle tasks</code></pre><p>You should see the following output:</p><pre><code>... snip ...


Sample tasks
------------
testSample - a simple test plugin

... snip ...</code></pre><h4>Step 5</h4><p>Run the plugin</p><pre><code>gradle -b build.plugin.gradle testSample</code></pre><p>And you will see the following output</p><pre><code>:testSample
This will be logged as output on standard out.
Logging out the boolean value of 'booleanValue' as 'true'
Logging out the string value of 'stringValue' as 'this is a string value set from the build.plugin.gradle file'
Logging out the string value from the list 'stringList' as 'one'
Logging out the string value from the list 'stringList' as 'two'
Logging out the string value from the list 'stringList' as 'three'

BUILD SUCCESSFUL</code></pre><p>Note that you do not see the 'info' or 'debug' messages - to see these, you will need to pass in the <code>--info</code>, or <code>--debug</code> command line parameters to the gradle build.</p><hr /><h3>Iterating</h3><p>Now that you have tested that the build works, you can now iterate over the <code>Task.java</code> code until it works as expected.</p><h4>Updating the plugin version</h4><p>In the <code>build.plugin.initial.gradle</code> file, update the version number in the line <code>version = '0.0.1'</code> and then:</p><pre><code>gradle -b build.plugin.initial.gradle build pTML</code></pre><p>This will publish the plugin to the local maven repository which you can then update the plugin number in the <code>build.plugin.gradle</code> file and test it again.</p><hr /><h3>Publishing</h3><p>Now that you have iterated and built the plugin - and you are happy with your plugin, you need to publish it.</p><h4>Step 1</h4><p>Login or signup to the <a href="https://login.gradle.org/user/login">gradle plugin portal</a> ensuring that you have specified your username.</p><h4>Step 2</h4><p>Retrieve your API keys buy clinking on the 'API Keys' tab on your home page.  Follow the instructions (i.e. copy the <code>gradle.publish.key</code> and <code>gradle.publish.secret</code>) to your <code>gradle.properties</code> file (e.g. <code>HOME_DIR/.gradle/gradle.properties</code>).</p><pre><code>gradle -b build.plugin.gradle build publishPlugin</code></pre><p><em>or</em> just simply</p><pre><code>gradle -b build.plugin.gradle build pP</code></pre><h4>Step 3</h4><p>You, (and everybody else) is now ready to use your plugin - congratulations!</p><script type="text/javascript">
	var _paq = _paq || [];
	_paq.push(['trackPageView']);
	_paq.push(['enableLinkTracking']);
	(function() {
		var u="//piwik.synapticloop.com/";
		_paq.push(['setTrackerUrl', u+'piwik.php']);
		_paq.push(['setSiteId', 13]);
		var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	})();
</script>
<noscript><p><img src="//piwik.synapticloop.com/piwik.php?idsite=13" style="border:0;" alt="" /></p></noscript>
</section></div></div></div></section><div id="footer"><div class="container"><div class="row 200% uniform"></div></div><div class="copyright">&copy; Synapticloop. All rights reserved.</div></div><script src="assets/js/jquery.min.js"></script><script src="assets/js/skel.min.js"></script><script src="assets/js/jquery.dropotron.min.js"></script><script src="assets/js/jquery.onvisible.min.js"></script><script src="assets/js/jquery.poptrox.min.js"></script><script src="assets/js/util.js"></script><!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]--><script src="assets/js/main.js"></script></body></html>