<h3>Task.java</h3>

<p>
	The task file <code>TestSampleTask.java</code> file is output to the 
	<code>./src/main/java/synapticloop/plugin/sample</code> directory.  This is the 
	object that actually does all of the work.  It uses the extension object to 
	determine the parameters for its action.
</p>

<p>Looking at the file, you will see the contents:</p>

<pre><code>
{pre
package synapticloop.plugin.sample;

// - - - - thoughtfully generated by synapticloop gradle-plugin-java-create - - - - 
//            with the use of synapticloop templar templating language
//                            (task.java.templar)


import org.gradle.api.DefaultTask;
import org.gradle.api.logging.Logger;
import org.gradle.api.tasks.TaskAction;

public class TestSampleTask extends DefaultTask {
	private Logger logger;
	private TestSamplePluginExtension extension;

	public TestSampleTask() {
		setGroup("Sample");
		setDescription("a simple test plugin");

		this.logger = getProject().getLogger();
	}

	@TaskAction
	public void generate() {
		extension = getProject().getExtensions().findByType(TestSamplePluginExtension.class);

		if (extension == null) {
			extension = new TestSamplePluginExtension();
		}

		logger.info("This will only be logged when the task is invoked with the --info command line argument.");
		logger.debug("This will only be logged when the task is invoked with the --debug command line argument.");
		logger.lifecycle("This will be logged as output on standard out.");

		logger.lifecycle("Logging out the boolean value of 'booleanValue' as '{}'", extension.getBooleanValue());
		logger.lifecycle("Logging out the string value of 'stringValue' as '{}'", extension.getStringValue());

		for (String stringListValue : extension.getStringList()) {
			logger.lifecycle("Logging out the string value from the list 'stringList' as '{}'", stringListValue);
		}
	}
}
pre}</code></pre>

<h3>Variables used in the generation</h3>

<p><code>TestSampleTask.java</code> uses the following variables:</p>

<ul>
	<li>
		<code>{{package}</code> - the command line argument <code>-p</code> or <code>--package</code>
		<ul>
			<li>This is split on the '<code>.</code>' character to create the output directory structure.</li>
			<li>This becomes the <code>package {{package};</code> declaration at the top of the file</li>
		</ul> 
	</li>
	<li>
		<code>{{name}</code> - the command line argument <code>-n</code> or <code>--name</code>
		<ul>
			<li>This becomes the file name <code>{{name}Task.java</code></li>
			<li>This becomes the class declaration <code>public class {{name}Task implements DefaultTask {{</code></li>
		</ul>
	</li>
</ul>

<p>
	For the following code:
</p>

<pre><code>
{pre
	public TestSampleTask() {
		setGroup("Sample");
		setDescription("a simple test plugin");

		this.logger = getProject().getLogger();
	}

pre}
</code></pre>

<ul>
	<li>
		<code>{{group}</code> - this is generated from the <code>-g</code> or 
		<code>--group</code> command line argument.
		<ul>
			<li>this is used to set the grouping for the task <code>setGroup("Sample");</code></li>
		</ul>
	</li>
	<li>
		<code>{{desc}</code> - this is generated from the <code>-d</code> or 
		<code>--desc</code> command line argument.
		<ul>
			<li>this is used to set the description for the task <code>setDescription("a simple test plugin");</code></li>
		</ul>
	</li>
</ul>

<h3>Things of note</h3>

<p>
	This is the class that you will need to change the most - it does all of the 
	work associated with the plugin.
</p>

<ol>
	<li>
		If you want to add additional tasks and extensions, this is the place to add 
		them. You may have as many tasks as you require - optionally with additional 
		extensions for each task.  Alternatively you may only have one extension 
		which can service all of the tasks.
	</li>
	<li>
		The name of the file is important - this must match the fully qualified 
		class name that is referenced in the <code>.properties</code> file (in this 
		case the <code>synapticloop.plugin.sample.TestSample.properties</code> file)
	</li>
</ol>

{import src/imports/footer.templar}
